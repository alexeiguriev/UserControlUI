@model UserControlUI.ModelsDTO.DocumentUserDTO

@{
    ViewData["Title"] = "Index";
}

<h1>List of documents</h1>

<p>
    <a asp-controller="Document" asp-action="Create">Create New</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Document[0].Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Document[0].Type)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Document[0].Status)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Document[0].UploadedDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Document[0].UpdatedByUserId)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @{var documentUser = Model;}
        @foreach (var doc in documentUser.Document)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => doc.Id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => doc.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => doc.Type)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => doc.Status)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => doc.UploadedDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => doc.UpdatedByUserId)
                </td>
                <td>
                    @*Project Manager or Architector*@
                    @if (documentUser.User.RoleIds.Contains(4) || documentUser.User.RoleIds.Contains(5))
                    {
                        @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
                        { <text>|</text> }
                    @Html.ActionLink("Update", "Update", new { /* id=item.PrimaryKey */ })
                    { <text>|</text> }

            }
            @*Developer*@
                    @if (documentUser.User.RoleIds.Contains(1))
                    {
                        @Html.ActionLink("Update", "Update", new { /* id=item.PrimaryKey */ })
                        { <text>|</text>}
                }
                    @Html.ActionLink("Download", "Download", new { /* id=item.PrimaryKey */ })

                </td>
            </tr>
        }
    </tbody>
</table>

<div>
    <a asp-controller="Home" asp-action="Index">Back Home</a>
</div>
